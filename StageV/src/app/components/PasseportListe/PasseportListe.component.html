<div class="passport-container">
  <!-- Tableau -->
  <div class="passport-table-container">
    <div class="header-section">
      <div class="header-info">
        <h2>ğŸ›‚ Gestion des Passeports</h2>
        <div class="count">ğŸ“Š {{ passports.length }} passeports</div>
      </div>
      <button class="create-btn" (click)="goToCreate()">
        â• CrÃ©er un nouveau passeport
      </button>
    </div>

    <div class="table-wrapper" *ngIf="passports.length > 0; else noPassports">
      <table class="passport-table">
        <thead>
        <tr>
          <th>ğŸ†” ID</th> <!-- âœ… Nouvelle colonne -->
          <th>ğŸ‘¤ PrÃ©nom</th>
          <th>ğŸ‘¤ Nom</th>
          <th>ğŸ³ï¸ NationalitÃ©</th>
          <th>âš§ Sexe</th>
          <th>ğŸ“… Date de naissance</th>
          <th>ğŸ“ Lieu de naissance</th>
          <th>ğŸ  Adresse</th>
          <th>ğŸ†” NumÃ©ro passeport</th>
          <th>ğŸ’¼ Profession</th>
          <th>ğŸ“… Date dÃ©livrance</th>
          <th>ğŸ“… Date expiration</th>
          <th>ğŸ›ï¸ AutoritÃ© dÃ©livrance</th>
          <th>âš¡ Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let passport of passports">
          <td>{{ passport.id }}</td> <!-- âœ… Affichage de l'ID -->
          <td>{{ passport.firstName }}</td>
          <td>{{ passport.lastName }}</td>
          <td>{{ passport.nationality }}</td>
          <td>{{ passport.sex }}</td>
          <td>{{ passport.dateOfBirth | date:'dd/MM/yyyy' }}</td>
          <td>{{ passport.placeOfBirth }}</td>
          <td>{{ passport.address }}</td>
          <td>{{ passport.passportNumber }}</td>
          <td>{{ passport.occupation || 'â€”' }}</td>
          <td>{{ passport.dateOfIssue | date:'dd/MM/yyyy' }}</td>
          <td>{{ passport.dateOfExpiry | date:'dd/MM/yyyy' }}</td>
          <td>{{ passport.issuingAuthority }}</td>
          <td class="actions">
            <button class="view-btn" (click)="viewPassport(passport)">
              ğŸ‘ï¸ Voir
            </button>
            <button class="delete-btn" (click)="deletePassport(passport.id!)">
              ğŸ—‘ï¸ Supprimer
            </button>
          </td>
        </tr>
        </tbody>
      </table>
    </div>

    <ng-template #noPassports>
      <div class="empty-state">
        <div class="empty-state-icon">ğŸ“„</div>
        <h3>Aucun passeport trouvÃ©</h3>
        <p>Commencez par crÃ©er votre premier passeport</p>
      </div>
    </ng-template>
  </div>

  <!-- Card de dÃ©tails -->
  <div class="passport-details" *ngIf="selectedPassport">
    <h3>ğŸ“‹ DÃ©tails du passeport</h3>
    <div class="details-content">
      <div class="detail-item">
        <strong>PrÃ©nom</strong>
        <span>{{ selectedPassport.firstName }}</span>
      </div>
      <div class="detail-item">
        <strong>Nom</strong>
        <span>{{ selectedPassport.lastName }}</span>
      </div>
      <div class="detail-item">
        <strong>NationalitÃ©</strong>
        <span>{{ selectedPassport.nationality }}</span>
      </div>
      <div class="detail-item">
        <strong>Sexe</strong>
        <span>{{ selectedPassport.sex }}</span>
      </div>
      <div class="detail-item">
        <strong>Date de naissance</strong>
        <span>{{ selectedPassport.dateOfBirth | date:'dd/MM/yyyy' }}</span>
      </div>
      <div class="detail-item">
        <strong>Lieu de naissance</strong>
        <span>{{ selectedPassport.placeOfBirth }}</span>
      </div>
      <div class="detail-item">
        <strong>Adresse</strong>
        <span>{{ selectedPassport.address }}</span>
      </div>
      <div class="detail-item">
        <strong>NumÃ©ro de passeport</strong>
        <span>{{ selectedPassport.passportNumber }}</span>
      </div>

      <div class="detail-item">
        <strong>Profession</strong>
        <span>{{ selectedPassport.occupation || 'â€”' }}</span>
      </div>
      <div class="detail-item">
        <strong>Date dÃ©livrance</strong>
        <span>{{ selectedPassport.dateOfIssue | date:'dd/MM/yyyy' }}</span>
      </div>
      <div class="detail-item">
        <strong>Date expiration</strong>
        <span>{{ selectedPassport.dateOfExpiry | date:'dd/MM/yyyy' }}</span>
      </div>
      <div class="detail-item">
        <strong>AutoritÃ© dÃ©livrance</strong>
        <span>{{ selectedPassport.issuingAuthority }}</span>
      </div>
    </div>
    <button class="close-btn" (click)="selectedPassport = null">
      âŒ Fermer les dÃ©tails
    </button>
  </div>
</div>
