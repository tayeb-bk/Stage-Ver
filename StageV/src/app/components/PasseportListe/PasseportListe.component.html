<div class="passport-container">
  <!-- Tableau -->
  <div class="passport-table-container">
    <div class="header-section">
      <div class="header-info">
        <h2>🛂 Gestion des Passeports</h2>
        <div class="count">📊 {{ passports.length }} passeports</div>
      </div>
      <button class="create-btn" (click)="goToCreate()">
        ➕ Créer un nouveau passeport
      </button>
    </div>

    <div class="table-wrapper" *ngIf="passports.length > 0; else noPassports">
      <table class="passport-table">
        <thead>
        <tr>
          <th>🆔 ID</th> <!-- ✅ Nouvelle colonne -->
          <th>👤 Prénom</th>
          <th>👤 Nom</th>
          <th>🏳️ Nationalité</th>
          <th>⚧ Sexe</th>
          <th>📅 Date de naissance</th>
          <th>📍 Lieu de naissance</th>
          <th>🏠 Adresse</th>
          <th>🆔 Numéro passeport</th>
          <th>💼 Profession</th>
          <th>📅 Date délivrance</th>
          <th>📅 Date expiration</th>
          <th>🏛️ Autorité délivrance</th>
          <th>⚡ Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let passport of passports">
          <td>{{ passport.id }}</td> <!-- ✅ Affichage de l'ID -->
          <td>{{ passport.firstName }}</td>
          <td>{{ passport.lastName }}</td>
          <td>{{ passport.nationality }}</td>
          <td>{{ passport.sex }}</td>
          <td>{{ passport.dateOfBirth | date:'dd/MM/yyyy' }}</td>
          <td>{{ passport.placeOfBirth }}</td>
          <td>{{ passport.address }}</td>
          <td>{{ passport.passportNumber }}</td>
          <td>{{ passport.occupation || '—' }}</td>
          <td>{{ passport.dateOfIssue | date:'dd/MM/yyyy' }}</td>
          <td>{{ passport.dateOfExpiry | date:'dd/MM/yyyy' }}</td>
          <td>{{ passport.issuingAuthority }}</td>
          <td class="actions">
            <button class="view-btn" (click)="viewPassport(passport)">
              👁️ Voir
            </button>
            <button class="delete-btn" (click)="deletePassport(passport.id!)">
              🗑️ Supprimer
            </button>
          </td>
        </tr>
        </tbody>
      </table>
    </div>

    <ng-template #noPassports>
      <div class="empty-state">
        <div class="empty-state-icon">📄</div>
        <h3>Aucun passeport trouvé</h3>
        <p>Commencez par créer votre premier passeport</p>
      </div>
    </ng-template>
  </div>

  <!-- Card de détails -->
  <div class="passport-details" *ngIf="selectedPassport">
    <h3>📋 Détails du passeport</h3>
    <div class="details-content">
      <div class="detail-item">
        <strong>Prénom</strong>
        <span>{{ selectedPassport.firstName }}</span>
      </div>
      <div class="detail-item">
        <strong>Nom</strong>
        <span>{{ selectedPassport.lastName }}</span>
      </div>
      <div class="detail-item">
        <strong>Nationalité</strong>
        <span>{{ selectedPassport.nationality }}</span>
      </div>
      <div class="detail-item">
        <strong>Sexe</strong>
        <span>{{ selectedPassport.sex }}</span>
      </div>
      <div class="detail-item">
        <strong>Date de naissance</strong>
        <span>{{ selectedPassport.dateOfBirth | date:'dd/MM/yyyy' }}</span>
      </div>
      <div class="detail-item">
        <strong>Lieu de naissance</strong>
        <span>{{ selectedPassport.placeOfBirth }}</span>
      </div>
      <div class="detail-item">
        <strong>Adresse</strong>
        <span>{{ selectedPassport.address }}</span>
      </div>
      <div class="detail-item">
        <strong>Numéro de passeport</strong>
        <span>{{ selectedPassport.passportNumber }}</span>
      </div>

      <div class="detail-item">
        <strong>Profession</strong>
        <span>{{ selectedPassport.occupation || '—' }}</span>
      </div>
      <div class="detail-item">
        <strong>Date délivrance</strong>
        <span>{{ selectedPassport.dateOfIssue | date:'dd/MM/yyyy' }}</span>
      </div>
      <div class="detail-item">
        <strong>Date expiration</strong>
        <span>{{ selectedPassport.dateOfExpiry | date:'dd/MM/yyyy' }}</span>
      </div>
      <div class="detail-item">
        <strong>Autorité délivrance</strong>
        <span>{{ selectedPassport.issuingAuthority }}</span>
      </div>
    </div>
    <button class="close-btn" (click)="selectedPassport = null">
      ❌ Fermer les détails
    </button>
  </div>
</div>
